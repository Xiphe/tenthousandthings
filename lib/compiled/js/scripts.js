!function(){"use strict";angular.module("tenthousandthings",["infinite-scroll"])}(),function(){"use strict";var a="/_things/page:page.json";angular.module("tenthousandthings").directive("tttList",["$http","$q",function(b,c){return{restrict:"E",replace:!0,templateUrl:"list.html",controller:["$scope",function(d){function e(){return j>i}function f(d){var e=c.defer(),f=a.replace(":page",d);return b.get(f).then(function(a){e.resolve(a.data)},e.reject),e.promise}function g(a){d.things.forEach(function(b){b.loaded||angular.isUndefined(a[b.path])||(b.content=a[b.path],b.loaded=!0)})}var h=window.ttt,i=h.page||1,j=h.pages||1;delete window.ttt,d.things=h.initial||[],d.hasPages=e(),d.scroll=function(){d.hasPages&&(d.hasPages=!1,c.when(f(i+1)).then(g).then(function(){i+=1,d.hasPages=e()}))}}]}}])}(),function(){"use strict";angular.module("tenthousandthings").directive("tttThing",[function(){return{restrict:"E",replace:!0,scope:{thing:"="},templateUrl:"thing.html",controller:["$sce","$scope",function(a,b){b.getContent=function(){return b.thing.loaded?a.trustAsHtml(b.thing.content):void 0}}]}}])}(),angular.module("tenthousandthings").run(["$templateCache",function(a){"use strict";a.put("list.html",'<div class="ttt-list"\n	infinite-scroll="scroll()"\n	infinite-scroll-disabled="!hasPages"\n	infinite-scroll-immediate-check="false"\n>\n	<ttt-thing ng-repeat="thing in things" thing="thing"></ttt-thing>\n</div>'),a.put("thing.html",'<article ng-if="thing.loaded" class="ttt-thing">\n	<h3>{{thing.title}}</h3>\n	<div ng-bind-html="getContent()"></div>\n</article>')}]);
//# sourceMappingURL=scripts.map