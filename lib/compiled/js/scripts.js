!function(){"use strict";angular.module("tenthousandthings",["infinite-scroll"])}(),function(){"use strict";angular.module("tenthousandthings").directive("tttCrazynessSlider",["tttColor",function(a){return{restrict:"E",replace:!0,scope:!0,templateUrl:"crazyness-slider.html",link:function(b){var c=a.getSalts(),d=angular.copy(c);b.crazylevel=0,b.$watch("crazylevel",function(a,b){a!==b&&angular.forEach(c,function(a,e){c[e]=d[e]+b})})}}}])}(),function(){"use strict";var a="/_things/page:page.json";angular.module("tenthousandthings").directive("tttList",["$http","$q","tttColor",function(b,c,d){return{restrict:"E",replace:!0,templateUrl:"list.html",controller:["$scope",function(e){function f(){return k>j}function g(d){var e=c.defer(),f=a.replace(":page",d);return b.get(f).then(function(a){e.resolve(a.data)},e.reject),e.promise}function h(a){e.things.forEach(function(b){b.loaded||angular.isUndefined(a[b.path])||(b.content=a[b.path],b.loaded=!0)})}var i=window.ttt,j=i.page||1,k=i.pages||1;delete window.ttt,d.setSalt(i.colorSalt),d.setSalt(i.colorSalt2,"2"),e.things=i.initial||[],e.hasPages=f(),e.scroll=function(){e.hasPages&&(e.hasPages=!1,c.when(g(j+1)).then(h).then(function(){j+=1,e.hasPages=f()}))}}]}}])}(),function(){"use strict";angular.module("tenthousandthings").directive("tttThingContent",["$compile",function(a){return{restrict:"C",link:function(b,c){var d=b.thing.content;b.thing.compile&&(d=a(d)(b)),c.append(d)}}}])}(),function(){"use strict";angular.module("tenthousandthings").directive("tttThing",["tttColor",function(a){return{restrict:"E",replace:!0,scope:{thing:"="},templateUrl:"thing.html",controller:["$sce","$scope",function(b,c){var d=new Date(c.thing.date);c.thing.isoDate=d.toISOString(),c.thing.date=d.getDate()+"."+d.getMonth()+"."+d.getFullYear()+" - "+d.getHours()+":"+d.getMinutes(),c.getStyle=function(){var b=a.stringToColor(c.thing.categories[0]),d=a.stringToColor(c.thing.categories[0],"2");return c.isLight=a.isLight(b),{"background-color":"#"+b,"border-color":"#"+d}}}]}}])}(),function(){"use strict";angular.module("tenthousandthings").factory("tttColor",[function(){function a(a){for(var b=0,c=0;c<a.length;c++)b=a.charCodeAt(c)+((b<<5)-b),b|=1;return b}function b(a){var b="";return[0,8,16].forEach(function(c){var d=(a>>c&255).toString(16);1===d.length&&(d=0+d),b+=d}),b}function c(c,d){var e="default";return d&&(e="_"+d),c+=h[e],g[c]||(g[c]=b(a(c))),g[c]}function d(a){var b=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16),d=parseInt(a.substring(4,6),16),e=Math.round((299*b+587*c+114*d)/1e3);return e>125}function e(a,b){var c="default";b&&(c="_"+b),h[c]=""+a}function f(){return h}var g={},h={"default":""};return{stringToColor:c,isLight:d,setSalt:e,getSalts:f}}])}(),angular.module("tenthousandthings").run(["$templateCache",function(a){"use strict";a.put("crazyness-slider.html",'<input type="range" ng-model="crazylevel" min="0" max="100000" class="ttt-crazyness" />'),a.put("list.html",'<div class="ttt-list"\n	infinite-scroll="scroll()"\n	infinite-scroll-disabled="!hasPages"\n	infinite-scroll-immediate-check="false"\n>\n	<ttt-thing ng-repeat="thing in things" thing="thing"></ttt-thing>\n</div>'),a.put("thing.html",'<article\n	ng-if="thing.loaded"\n	class="ttt-thing"\n	ng-class="isLight ? \'ttt-light-bg\' : \'ttt-dark-bg\'"\n	ng-style="getStyle()"\n>\n	<div class="ttt-thing-i-wrap">\n		<div class="ttt-thing-i">#{{thing.i}}</div>\n	</div>\n	<div class="ttt-wrap">\n		<header>\n			<h3>{{thing.title}}</h3>\n			<div class="ttt-thing-meta">\n				<time datetime="{{thing.isoDate}}">{{thing.date}}</time> in\n				<span ng-repeat="category in thing.categories" class="ttt-thing-category" rel="category">\n					{{category}}\n				</span>\n			</div>\n		</header>\n		<div class="ttt-thing-content"></div>\n	</div>\n</article>')}]);
//# sourceMappingURL=scripts.map